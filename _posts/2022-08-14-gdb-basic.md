---
published: false
tag: 'gdb, debugging'
---
## GDB basic

Figure out some basic function to debug in GDB.
Below is a example about run gdb with pre-definited command which is wrote in gdb.init.  

The program will be stop when a argument which equal 123 is passed to foo function

```
main.cpp
#include <iostream>
#include <memory>

using namespace std;

void foo(int a)
{
        unique_ptr<int> upi = make_unique<int>(22);
        cout << a << "\n";
        auto x = a + 10;
        upi.release();
}
int main()
{
        for(auto i = 0; i < 200; i++)
                foo(i);
        return 0;
}

gdb.run
break foo(int) if a == 123
run a.out
next
next
info local
p x

```

```
1. build a binary with debug symbols : g++ -O0 -g main.cpp -o a.out   
2. run gdb with pre-defined in gdb.run : gdb --batch -x gdb.run ./a.out    
```

#Note  

![]({{site.baseurl}}/)
Follow this : https://developers.redhat.com/blog/2021/04/30/the-gdb-developers-gnu-debugger-tutorial-part-1-getting-started-with-the-debugger#next_up

